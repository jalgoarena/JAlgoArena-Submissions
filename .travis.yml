language: java
jdk:
- oraclejdk8
before_install:
- pip install --user codecov
after_success:
- codecov
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_deploy:
- "./gradlew releaseZip"
deploy:
  provider: releases
  api_key:
    secure: MqaXPA29QWwQF3P+wSLHbFFuvSbwRzcCS73CpQeUBByaIoMCnI4LoxOcLKLkg7Sw7xF/cHQczo5h9vf3dfqF7EJwXMqEixDjJyFEa8t0LFZp0SqpFsLwWuR54mICChsTvf62vnxICkdGXKNOq6R3+rf+Xmr/3mwLZjPo864B0iINL3EcvzSgfbdFEOuNpxTbtqm1B+p+xQ8/I030BgDb43v8YHEiOtUzffyAU8eP5AwZeUnwRXb8ypauH379UNvpdwTQS2E6GxTNe3S/6wc+UX6fnqNy3ZpFHIoOvFN73XiWht5X65PgVrPxtUZNue9ce/IvkQOyC63xmN4C8yGR85/SYsNqYa69Ia5RM65k4HsHuomf+jmIX1Q1exCIAUwbxvI5IKSnxBmHd+lNeJSVygGDQ46Hi27z3R0bsxWCl57z/FdgByaUIdgvqtwMSQSdtP1IXBuYm1k+Sz3ZH9yJqsoQXHOnCIcCg0exkfp3DJmcNnqg+g9drxYTDcFj6q4GE1kUK8jeY5CZclRUOoDvybQTTnlvoFkLauUNQZm1YkGtTKDjlAxSoba3uCZgdrEb6P+uB0NI+wUQ3EBiWCxO5rmNQlf+hlhMiUpGHh1M79y4dQPBVxeOLXXWac8i2k6bporum/k1Ks9q6bnMsNC4OepUznNvD1iaz/lzhZS/Qj0=
  file_glob: true
  file: "./build/libs/JAlgoArena-Submissions-*.zip"
  skip_cleanup: true
  on:
    repo: spolnik/JAlgoArena-Submissions
    tags: true
